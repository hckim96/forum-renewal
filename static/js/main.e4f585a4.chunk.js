(this["webpackJsonpforum-renewal"]=this["webpackJsonpforum-renewal"]||[]).push([[0],{112:function(e){e.exports=JSON.parse('[{"content":"front_1.png"},{"content":"front_2.png"},{"content":"front_3.png"},{"content":"front_4.png"},{"content":"front_5.png"},{"content":"front_6.png"}]')},119:function(e,t,n){},120:function(e,t,n){},121:function(e,t,n){},221:function(e,t,n){},467:function(e,t,n){},468:function(e,t,n){},469:function(e,t,n){},474:function(e,t,n){},475:function(e,t,n){},480:function(e,t,n){},481:function(e,t,n){"use strict";n.r(t);var i=n(1),a=n(2),c=n(106),r=n.n(c),s=(n(119),n(4)),o=n(113),d=n(44),l=n(13),u=(n(120),n(5)),h=n(9),j=(n(121),function(){return Object(i.jsxs)("div",{className:"header-container",children:[Object(i.jsx)(h.b,{to:"/",exact:!0,className:"header-link",activeClassName:"header-activeLink",children:Object(i.jsx)("span",{children:"\ud648"})}),Object(i.jsx)(h.b,{to:"/canvas",className:"header-link",activeClassName:"header-activeLink",children:Object(i.jsx)("span",{children:"\ud3ed\uc8fd\ub180\uc774"})}),Object(i.jsx)(h.b,{to:"/post",className:"header-link",activeClassName:"header-activeLink",children:Object(i.jsx)("span",{children:"\ud3ec\uc2a4\ud2b8\ub9ac\uc2a4\ud2b8"})}),Object(i.jsx)(h.b,{to:"/write",className:"header-link",activeClassName:"header-activeLink",children:Object(i.jsx)("span",{children:"\uae00 \uc4f0\uae30"})}),Object(i.jsx)(h.b,{to:"/memoryGame",className:"header-link",activeClassName:"header-activeLink",children:Object(i.jsx)("span",{children:"\uce74\ub4dc \uac8c\uc784"})})]})}),b=function(){return Object(a.useEffect)((function(){window.requestAnimFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)};var e,t,n=document.getElementById("canvas"),i=n.getContext("2d"),a=window.innerWidth,c=window.innerHeight,r=[],s=[],o=120,d=0,l=!1;function u(e,t){return Math.random()*(t-e)+e}function h(e,t,n,i){for(this.x=e,this.y=t,this.sx=e,this.sy=t,this.tx=n,this.ty=i,this.distanceToTarget=0,this.distanceTraveled=0,this.coordinates=[],this.coordinateCount=3;this.coordinateCount--;)this.coordinates.push([this.x,this.y]);this.angle=Math.atan2(i-t,n-e),this.speed=2,this.acceleration=1.05,this.brightness=u(50,70),this.targetRadius=1}function j(e,t){for(this.x=e,this.y=t,this.coordinates=[],this.coordinateCount=5;this.coordinateCount--;)this.coordinates.push([this.x,this.y]);this.angle=u(0,2*Math.PI),this.speed=u(1,10),this.friction=.95,this.gravity=1,this.hue=u(o-50,o+50),this.brightness=u(50,80),this.alpha=1,this.decay=u(.015,.03)}n.width=a,n.height=c,h.prototype.update=function(e){this.coordinates.pop(),this.coordinates.unshift([this.x,this.y]),this.targetRadius<8?this.targetRadius+=.3:this.targetRadius=1,function(e,t){var n=30;for(;n--;)s.push(new j(e,t))}(this.tx,this.ty),r.splice(e,1)},h.prototype.draw=function(){i.beginPath(),i.strokeStyle="hsl("+o+", 100%, "+this.brightness+"%)",i.stroke(),i.beginPath(),i.arc(this.tx,this.ty,this.targetRadius,0,2*Math.PI),i.stroke()},j.prototype.update=function(e){this.coordinates.pop(),this.coordinates.unshift([this.x,this.y]),this.speed*=this.friction,this.x+=Math.cos(this.angle)*this.speed,this.y+=Math.sin(this.angle)*this.speed+this.gravity,this.alpha-=this.decay,this.alpha<=this.decay&&s.splice(e,1)},j.prototype.draw=function(){i.beginPath(),i.moveTo(this.coordinates[this.coordinates.length-1][0],this.coordinates[this.coordinates.length-1][1]),i.lineTo(this.x,this.y),i.strokeStyle="hsla("+this.hue+", 100%, "+this.brightness+"%, "+this.alpha+")",i.stroke()},n.addEventListener("mousemove",(function(i){e=i.pageX-n.offsetLeft,t=i.pageY-n.offsetTop})),n.addEventListener("mousedown",(function(e){e.preventDefault(),l=!0})),n.addEventListener("mouseup",(function(e){e.preventDefault(),l=!1})),function n(){window.requestAnimFrame(n),o=u(0,360),i.globalCompositeOperation="destination-over",i.fillStyle="rgba(0, 0, 0, .5)",i.fillRect(0,0,a,c),i.globalCompositeOperation="lighter";for(var j=r.length;j--;)r[j].draw(),r[j].update(j);for(j=s.length;j--;)s[j].draw(),s[j].update(j);d>=5?l&&(r.push(new h(a/2,c,e,t)),d=0):d++}()})),Object(i.jsx)("div",{children:Object(i.jsx)("canvas",{id:"canvas"})})},m=function(){return Object(i.jsx)("div",{children:Object(i.jsx)("div",{style:{paddingTop:"20px",wordWrap:"normal"},children:Object(i.jsx)("h1",{children:"hello ".repeat(3e3)})})})},f=n(45),p=n.n(f),O=n(23),x=n.n(O),g=n(483),v=n(482);n(220),n(221);function w(){var e=Object(d.a)(["**Hello world!!!**\n# \uc81c\ubaa91\n1. 1\ubc88\n2. 2\ubc88\n3. 3\ubc88\n## \uc81c\ubaa92\n- \ud558\ub098\n- \ub458\n- \uc14b\n",'cpp\n#include <iostream>\nusing namespace std;\nint main() {\n  cout << "hello, world\n";\n}\n',"\n\n*Italic*\n> Blockquote\n\n"],["**Hello world!!!**\n# \uc81c\ubaa91\n1. 1\ubc88\n2. 2\ubc88\n3. 3\ubc88\n## \uc81c\ubaa92\n- \ud558\ub098\n- \ub458\n- \uc14b\n",'cpp\n#include <iostream>\nusing namespace std;\nint main() {\n  cout << "hello, world\\n";\n}\n',"\n\n*Italic*\n> Blockquote\n\n"]);return w=function(){return e},e}var y=String.raw(w(),"```","```"),N={code:function(e){var t=e.language,n=e.value;return Object(i.jsx)(g.a,{style:v.a,language:t,children:n})}},k=function(e){var t=e.onPostWrite,n=e.onPostUpdate,c=e.post,r=c||{title:"",body:y},o=Object(a.useState)(r.title),d=Object(l.a)(o,2),h=d[0],j=d[1],b=Object(a.useState)(r.body),m=Object(l.a)(b,2),f=m[0],O=m[1],g=Object(a.useState)("write"),v=Object(l.a)(g,2),w=v[0],k=v[1],C=Object(u.e)();return Object(i.jsx)("div",{children:c?Object(i.jsxs)("div",{className:"write-container",children:[Object(i.jsx)("input",{placeholder:"\uc81c\ubaa9\uc744 \uc785\ub825\ud558\uc138\uc694...",className:"write-title",type:"text",value:h,onChange:function(e){return j(e.target.value)}}),Object(i.jsx)(p.a,{className:"write-mde",value:f,onChange:O,selectedTab:w,onTabChange:k,minEditorHeight:400,generateMarkdownPreview:function(e){return Promise.resolve(Object(i.jsx)(x.a,{renderers:N,children:e}))}}),Object(i.jsx)("button",{className:"write-button",onClick:function(){n(Object(s.a)(Object(s.a)({},r),{},{title:h,body:f,id:r.id})),alert("\uc218\uc815\ub418\uc5c8\uc2b5\ub2c8\ub2e4."),C.push("/post/".concat(r.id))},children:"\uc218\uc815"})]}):Object(i.jsxs)("div",{className:"write-container",children:[Object(i.jsx)("input",{autoFocus:!0,placeholder:"\uc81c\ubaa9\uc744 \uc785\ub825\ud558\uc138\uc694...",className:"write-title",type:"text",value:h,onChange:function(e){return j(e.target.value)}}),Object(i.jsx)(p.a,{className:"write-mde",value:f,onChange:O,selectedTab:w,onTabChange:k,minEditorHeight:400,generateMarkdownPreview:function(e){return Promise.resolve(Object(i.jsx)(x.a,{renderers:N,children:e}))}}),Object(i.jsx)("button",{className:"write-button",onClick:function(){t({title:h,body:f,createdAt:Date.now()})},children:"\ub4f1\ub85d"})]})})};n(467);function C(e){var t=new Date(e),n=""+(t.getMonth()+1),i=""+t.getDate(),a=""+t.getHours(),c=""+t.getMinutes(),r=""+t.getSeconds();return n.length<2&&(n="0"+n),i.length<2&&(i="0"+i),a.length<2&&(a="0"+a),c.length<2&&(c="0"+c),r.length<2&&(r="0"+r),"".concat(n,"-").concat(i," ").concat(a,":").concat(c,":").concat(r)}var F={code:function(e){var t=e.language,n=e.value;return Object(i.jsx)(g.a,{style:v.a,language:t,children:n})}},S=function(e){var t=e.post,n=Object(u.e)();return Object(i.jsxs)("div",{className:"postPreview",onClick:function(){n.push("/post/".concat(t.id))},children:[Object(i.jsx)("h1",{className:"postPreview-title",children:t.title}),Object(i.jsxs)("div",{className:"postPreview-info-container",children:[Object(i.jsx)("small",{children:t.id}),Object(i.jsx)("small",{children:"\xa0\xa0\xa0"}),Object(i.jsx)("small",{children:C(t.createdAt)})]}),Object(i.jsx)("div",{className:"postPreview-body",children:Object(i.jsx)(x.a,{renderers:F,children:t.body})})]})},T=function(e){var t=e.postList.map((function(e){return Object(i.jsx)(S,{post:e},e.id)}));return Object(i.jsx)("div",{style:{marginLeft:"15%",marginRight:"15%",marginBottom:"10%",marginTop:"3%"},children:t})};n(468);function P(e){var t=new Date(e),n=""+(t.getMonth()+1),i=""+t.getDate(),a=""+t.getHours(),c=""+t.getMinutes(),r=""+t.getSeconds();return n.length<2&&(n="0"+n),i.length<2&&(i="0"+i),a.length<2&&(a="0"+a),c.length<2&&(c="0"+c),r.length<2&&(r="0"+r),"".concat(n,"-").concat(i," ").concat(a,":").concat(c,":").concat(r)}var M={code:function(e){var t=e.language,n=e.value;return Object(i.jsx)(g.a,{style:v.a,language:t,children:n})}},R=function(e){var t=e.post,n=e.onPostDelete,a=Object(u.e)();return Object(i.jsxs)("div",{className:"postView-container",children:[Object(i.jsx)("h1",{className:"postView-title",children:t.title}),Object(i.jsxs)("div",{className:"postView-info-container",children:[Object(i.jsxs)("div",{children:[Object(i.jsx)("small",{children:t.id}),Object(i.jsx)("small",{children:"\xa0\xa0\xa0"}),Object(i.jsx)("small",{children:P(t.createdAt)})]}),Object(i.jsxs)("div",{style:{justifySelf:"flex-end"},children:[Object(i.jsx)("span",{onClick:function(){a.push("/write?id=".concat(t.id))},style:{cursor:"pointer"},children:"\uc218\uc815"}),Object(i.jsx)("small",{children:"\xa0\xa0\xa0"}),Object(i.jsx)("span",{onClick:function(){n(t),alert("\uc0ad\uc81c\ub418\uc5c8\uc2b5\ub2c8\ub2e4.")},style:{cursor:"pointer"},children:"\uc0ad\uc81c"})]})]}),Object(i.jsx)("div",{className:"postView-body",children:Object(i.jsx)(x.a,{renderers:M,children:t.body})})]})},I=(n(469),n(46)),D=n.n(I),L=function(e){var t=e.id,n=e.content,a=e.flipped,c=e.handleClick;e.matched;return Object(i.jsx)("div",{className:"card",children:Object(i.jsxs)(D.a,{isFlipped:a,flipOnHover:!1,flipDirection:"horizontal",style:{width:window.innerWidth/2/4*.8,height:window.innerWidth/2/4*.8*1.4},children:[Object(i.jsx)(I.FrontSide,{animationDuration:450,className:"card-front",children:Object(i.jsx)("img",{className:"card-back-image",src:"/forum-renewal/images/"+n,alt:"front"})}),Object(i.jsx)(I.BackSide,{animationDuration:450,onClick:function(){c(t)},className:"card-back",children:Object(i.jsx)("img",{className:"card-back-image",src:"/forum-renewal/images/back_test3.png",alt:"back"})})]})})},A=(n(474),function(e){var t=e.started,n=e.isFinished,c=e.onRestart,r=e.writeRecord,o=Object(a.useState)({startTime:Date.now(),diff:0}),d=Object(l.a)(o,2),u=d[0],h=d[1],j=Object(a.useRef)();Object(a.useEffect)((function(){if(t){var e=setInterval((function(){h(Object(s.a)(Object(s.a)({},u),{},{diff:Date.now()-u.startTime}))}),80);return j.current=e,function(){clearInterval(j.current)}}}),[u,t]),Object(a.useEffect)((function(){n&&(clearInterval(j.current),r(u.diff))}),[n]);return Object(i.jsxs)("div",{className:"timeCounter-container",children:[function(e){var t=(e/1e3).toFixed(2),n=Math.floor(t/60);return t=(t-60*n).toFixed(2),Object(i.jsxs)("div",{className:"timeCounter-time",children:[Object(i.jsx)("span",{className:"dynamic",children:n}),Object(i.jsx)("span",{children:"\ubd84"}),Object(i.jsx)("span",{className:"dynamic2",children:t}),Object(i.jsx)("span",{children:"\ucd08"})]})}(u.diff),Object(i.jsx)("button",{className:"timeCounter-restartButton",onClick:function(){h({startTime:Date.now(),diff:0}),c()},children:"Restart"})]})}),E=(n(475),n(112)),B=n(69);n(476);B.a.initializeApp({apiKey:"AIzaSyCuPyGhtMKv4F00ES-leNp9j_NPS7b4XiI",authDomain:"forum-renewal-test.firebaseapp.com",projectId:"forum-renewal-test",storageBucket:"forum-renewal-test.appspot.com",messagingSenderId:"632834950560",appId:"1:632834950560:web:85c25a414e411e3dac50c5",measurementId:"G-NKZ1TMVFHZ"});var G=B.a.database(),H=(n(480),function(e){var t=e.record,n=e.getRecords,c=Object(a.useState)({username:"",display:""}),r=Object(l.a)(c,2),o=r[0],d=r[1],u=function(){var e={};e["memoryGameRecord/"+G.ref("memoryGameRecord").push().key]={username:o.username,record:t},G.ref().update(e).then((function(){n()}))};return Object(i.jsx)("div",{className:"recordModal-container ".concat(o.display),onClick:function(e){d(Object(s.a)(Object(s.a)({},o),{},{display:"none"}))},children:Object(i.jsxs)("div",{className:"recordModal-content",onClick:function(e){e.stopPropagation()},children:[Object(i.jsxs)("div",{children:["\uac78\ub9b0 \uc2dc\uac04: ",t,"\ucd08",Object(i.jsx)("span",{onClick:function(){d(Object(s.a)(Object(s.a)({},o),{},{display:"none"}))},children:"\xd7"})]}),Object(i.jsxs)("div",{children:[Object(i.jsx)("div",{children:"\ub2c9\ub124\uc784"}),Object(i.jsx)("input",{autoFocus:!0,placeholder:"\ub2c9\ub124\uc784\uc744 \uc785\ub825\ud558\uc138\uc694...",className:"recordModal-usernameInput",type:"text",value:o.username,onChange:function(e){return d(Object(s.a)(Object(s.a)({},o),{},{username:e.target.value}))},onKeyDown:function(e){"Enter"==e.key?(u(),d(Object(s.a)(Object(s.a)({},o),{},{display:"none"}))):"Escape"==e.key&&d(Object(s.a)(Object(s.a)({},o),{},{display:"none"}))}})]}),Object(i.jsx)("button",{className:"recordModal-submitButton",onClick:function(){u(),d(Object(s.a)(Object(s.a)({},o),{},{display:"none"}))},children:"\ub4f1\ub85d\ud558\uae30"})]})})}),q=function(){var e=function(e){for(var t=e.slice(),n=t.length-1;n>0;n--){var i=Math.floor(Math.random()*(n+1)),a=[t[i],t[n]];t[n]=a[0],t[i]=a[1]}return t},t=function(){var t=E;return t=(t=e(t).slice(0,6)).concat(t),(t=e(t)).map((function(e){var t={};return t.id=Math.random().toString(36).substr(2,9),t.flipped=!0,t.content=e.content,t.matched=!1,t}))},n=Object(a.useState)({cards:t(),started:!1,isFinished:!1,gameTurn:0,onAnimation:!1,matched:0,recordList:[],record:0}),c=Object(l.a)(n,2),r=c[0],o=c[1],d=function(){var e=[],t=1;console.log("getRecords called"),G.ref("memoryGameRecord").orderByChild("record").once("value",(function(n){n.forEach((function(n){e.push({key:n.key,order:t,username:n.val().username,record:n.val().record}),t+=1})),o(Object(s.a)(Object(s.a)({},r),{},{recordList:e}))}))};Object(a.useEffect)((function(){d()}),[]);Object(a.useEffect)((function(){r.isFinished||r.cards.find((function(e){return!e.matched}))||o(Object(s.a)(Object(s.a)({},r),{},{isFinished:!0}))}),[r]);var u=function(e){if(!r.onAnimation){var t=r.cards.map((function(t){var n=Object(s.a)({},t);return n.id===e&&(n.flipped=!1),n}));r.onAnimation||o(Object(s.a)(Object(s.a)({},r),{},{onAnimation:1===r.gameTurn,gameTurn:(r.gameTurn+1)%2,cards:t}));var n=t.find((function(t){return t.id===e})),i=!1;t=t.map((function(e){var t=Object(s.a)({},e);return t.content===n.content&&t.id!==n.id&&(t.flipped?t.flipped=!0:(i=!0,t.matched=!0)),t})),t=i?t.map((function(t){var n=Object(s.a)({},t);return n.id===e&&(n.matched=!0),n})):t.map((function(e){var t=Object(s.a)({},e);return t.matched||t.flipped||(t.flipped=!0),t})),r.onAnimation||1!==r.gameTurn||setTimeout((function(){o(Object(s.a)(Object(s.a)({},r),{},{onAnimation:!1,matched:i?r.matched+1:r.matched,gameTurn:(r.gameTurn+1)%2,cards:t}))}),500)}},h=function(){o(Object(s.a)(Object(s.a)({},r),{},{started:!0})),console.log("onStart executed")};return Object(i.jsxs)("div",{children:[r.isFinished?Object(i.jsx)(H,{getRecords:d,record:r.record}):Object(i.jsx)(i.Fragment,{}),r.started?Object(i.jsxs)("div",{className:"memoryGame-container",children:[Object(i.jsxs)("div",{className:"memoryGame-info",children:[Object(i.jsx)("h1",{children:"Matched: ".concat(r.matched)}),Object(i.jsx)("h1",{className:"memoryGame-time",children:Object(i.jsx)(A,{started:r.started,isFinished:r.isFinished,onStart:h,onRestart:function(){o(Object(s.a)(Object(s.a)({},r),{},{cards:t(),isFinished:!1,gameTurn:0,onAnimation:!1,waitCardId:0,matched:0}))},writeRecord:function(e){o(Object(s.a)(Object(s.a)({},r),{},{record:e/1e3}))}})}),r.started&&r.isFinished?Object(i.jsx)("h1",{children:"YOU WIN!!!"}):Object(i.jsx)(i.Fragment,{})]}),Object(i.jsxs)("div",{className:"memoryGame-main",children:[Object(i.jsx)("div",{className:"grow-1",children:Object(i.jsx)(i.Fragment,{})}),Object(i.jsx)("div",{className:"memoryGame-cards",children:r.cards.map((function(e){return Object(i.jsx)(L,{handleClick:u,id:e.id,content:e.content,flipped:e.flipped,matched:e.matched},e.id)}))}),Object(i.jsx)("div",{className:"grow-1",children:function(){if(r.recordList)return r.recordList.map((function(e){return Object(i.jsx)("div",{children:Object(i.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[Object(i.jsxs)("h2",{children:[e.order,"."]}),Object(i.jsx)("h2",{children:e.username}),Object(i.jsxs)("h2",{children:[e.record,"\ucd08"]})]})},e.key)}))}()})]})]}):Object(i.jsx)("div",{className:"memoryGame-container",children:Object(i.jsx)("button",{className:"timeCounter-restartButton",onClick:h,children:"Start"})})]})};function _(){var e=Object(d.a)(["**Hello world!!!**\n# \uc81c\ubaa91\n1. 1\ubc88\n2. 2\ubc88\n3. 3\ubc88\n## \uc81c\ubaa92\n- \ud558\ub098\n- \ub458\n- \uc14b\n",'cpp\n#include <iostream>\nusing namespace std;\nint main() {\n  cout << "hello, world\n";\n}\n',"\n\n*Italic*\n> Blockquote\n\n"],["**Hello world!!!**\n# \uc81c\ubaa91\n1. 1\ubc88\n2. 2\ubc88\n3. 3\ubc88\n## \uc81c\ubaa92\n- \ud558\ub098\n- \ub458\n- \uc14b\n",'cpp\n#include <iostream>\nusing namespace std;\nint main() {\n  cout << "hello, world\\n";\n}\n',"\n\n*Italic*\n> Blockquote\n\n"]);return _=function(){return e},e}function W(){var e=Object(u.e)(),t=Object(a.useState)([{id:0,title:"SampleTitle",body:String.raw(_(),"```","```"),createdAt:Date.now()}]),n=Object(l.a)(t,2),c=n[0],r=n[1],d=function(t){0!==c.length?t.id=c[c.length-1].id+1:t.id=0,r([].concat(Object(o.a)(c),[t])),e.push("/post")},h=function(e){var t=c.map((function(t){return t.id===e.id?Object(s.a)(Object(s.a)({},t),{},{title:e.title,body:e.body}):t}));r(t)},f=function(t){r(c.filter((function(e){return e.id!==t.id}))),e.push("/post")},p=function(e){for(var t in c)if(c[t].id===e)return t};var O=new URLSearchParams(Object(u.f)().search);return Object(i.jsxs)("div",{children:[Object(i.jsx)(j,{}),Object(i.jsx)(u.a,{exact:!0,path:"/",render:function(){return Object(i.jsx)(m,{})}}),Object(i.jsx)(u.a,{path:"/canvas",render:function(){return Object(i.jsx)(b,{})}}),Object(i.jsx)(u.a,{path:"/memoryGame",render:function(){return Object(i.jsx)(q,{})}}),Object(i.jsx)(u.a,{path:"/write",render:function(){var e=O.get("id");return e?Object(i.jsx)(k,{post:c[p(Number(e))],onPostUpdate:h}):Object(i.jsx)(k,{onPostWrite:d})}}),Object(i.jsx)(u.a,{exact:!0,path:"/post",render:function(){return Object(i.jsx)(T,{postList:[].concat(c).reverse()})}}),Object(i.jsx)(u.a,{path:"/post/:id",render:function(e){var t=e.match;return Object(i.jsx)(R,{post:c[p(Number(t.params.id))],onPostDelete:f})}})]})}var V=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,484)).then((function(t){var n=t.getCLS,i=t.getFID,a=t.getFCP,c=t.getLCP,r=t.getTTFB;n(e),i(e),a(e),c(e),r(e)}))};r.a.render(Object(i.jsx)(h.a,{basename:"/forum-renewal",children:Object(i.jsx)(W,{})}),document.getElementById("root")),V()}},[[481,1,2]]]);
//# sourceMappingURL=main.e4f585a4.chunk.js.map